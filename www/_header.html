{{ define "header" }}
<!DOCTYPE html>
<html>
  <head>
    <link href="css/theme.min.css" rel="stylesheet" />
    <link href="css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <script src="{{ .Root }}/js/jquery-1.10.js"></script>
    <script src="{{ .Root }}/js/bootstrap.min.js"></script>
    <script>
      ws = new WebSocket("ws://localhost:8000{{ .Root }}/ws");
      ws.onopen = function(e){ console.log("websocket opened"); }
      ws.onclose = function(e){ console.log("websocket closed", e); }
    </script>
  </head>
  <body>
   <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/">98-232: Web Games</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a href="#challenge">Challenge</a></li>
            </ul>
            {{ if .LoggedIn }}
            <div class="pull-right">
              <p class="navbar-text pull-left">Welcome, {{ .Andrew }}</p>
              <a href="{{ .Root }}/logout" class="btn">Sign out</a>
            </div>
            {{ else }}
            <form class="navbar-form pull-right" method="POST" action="{{ .Root }}/login">
              <input class="span2" type="text" name="andrew" placeholder="Andrew">
              <input class="span2" type="password" name="password" placeholder="Password">
              <input type="hidden" name="post" value="login" />
              <button type="submit" class="btn">Sign in</button>
            </form>
            {{ end }}
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    <div class="container">
{{ end }}